import{w as p,a as d,o as e}from"./chunk-QMGIS6GS-u2wsVBQ8.js";import{A as x}from"./AuthFooter-CKhZqaSr.js";import{C as f,a as g,d as h,b as E}from"./card-B9a7pVUc.js";import{u as j,a as b,E as F,f as w}from"./zod-CESMKTJV.js";import{F as C}from"./FormInput-DWnxTtgF.js";import{M as S}from"./MessageAlert-B1YPt43R.js";import{u as v}from"./AuthContext-DymqdCtb.js";import"./button-p6101m2e.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-BaT0F7pg.js";import"./index-CcF3o-s6.js";import"./auth-DssmCHyn.js";const L=()=>[{title:"Esqueci minha senha - NaMesaJá"}],R=p(function(){const{forgotPassword:m}=v(),[r,a]=d.useState(""),{register:n,handleSubmit:l,formState:{errors:o,isSubmitting:t},setError:i}=j({resolver:b(w),defaultValues:{email:""}}),u=async c=>{try{const s=await m({email:c.email});if(!s.status){a(""),i("root",{type:"manual",message:s.message});return}a(s.message)}catch(s){console.error("Forgot password error:",s),i("root",{type:"manual",message:s instanceof Error?s.message:"Erro ao enviar email de recuperação."})}};return e.jsxs(e.Fragment,{children:[e.jsxs(f,{children:[e.jsx(g,{className:"text-center text-4xl",children:r?"Email enviado!":"Esqueci minha senha"}),!r&&e.jsx(h,{children:"Digite seu email e enviaremos instruções para redefinir sua senha."})]}),e.jsx(E,{className:"flex flex-col gap-6",children:e.jsxs("form",{onSubmit:l(u),className:"flex flex-col gap-6",children:[e.jsx(C,{label:"Email *",type:"email",error:o.email?.message,...n("email")}),e.jsx(F,{error:o.root?.message}),e.jsx(S,{message:r}),e.jsx(x,{question:"Lembrou sua senha?",linkText:"Fazer login",linkTo:"/login",buttonText:t?"Enviando...":"Enviar email",disabled:t})]})})]})});export{R as default,L as meta};
