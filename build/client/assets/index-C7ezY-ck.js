import{w as u,a as f,o as e}from"./chunk-QMGIS6GS-u2wsVBQ8.js";import{A as g}from"./AuthFooter-CKhZqaSr.js";import{C as d,a as j,b as E}from"./card-B9a7pVUc.js";import{u as h,a as b,E as C,r as w}from"./zod-CESMKTJV.js";import{F as t}from"./FormInput-DWnxTtgF.js";import{M as y}from"./MessageAlert-B1YPt43R.js";import{u as S}from"./AuthContext-DymqdCtb.js";import"./button-p6101m2e.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-BaT0F7pg.js";import"./index-CcF3o-s6.js";import"./auth-DssmCHyn.js";const U=()=>[{title:"Criar conta - NaMesaJá"}],V=u(function(){const{register:l}=S(),[c,m]=f.useState(""),{register:a,handleSubmit:p,formState:{errors:s,isSubmitting:i},setError:n}=h({resolver:b(w),defaultValues:{name:"",email:"",confirmEmail:"",password:""}}),x=async o=>{try{const r=await l({name:o.name,email:o.email,confirmEmail:o.confirmEmail,password:o.password});if(!r.status)return m(""),n("root",{type:"manual",message:r.message});m(r.message)}catch(r){console.error("Registration error:",r),n("root",{type:"manual",message:r instanceof Error?r.message:"Erro ao criar conta."})}};return e.jsxs(e.Fragment,{children:[e.jsx(d,{children:e.jsx(j,{className:"text-center text-4xl",children:"Crie sua conta"})}),e.jsx(E,{className:"flex flex-col gap-6",children:e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:p(x),children:[e.jsx(t,{label:"Nome *",type:"text",error:s.name?.message,...a("name")}),e.jsx(t,{label:"Email *",type:"email",error:s.email?.message,...a("email")}),e.jsx(t,{label:"Confirmar email *",type:"email",error:s.confirmEmail?.message,...a("confirmEmail")}),e.jsx(t,{label:"Senha *",type:"password",error:s.password?.message,...a("password")}),e.jsx(C,{error:s.root?.message}),e.jsx(y,{message:c}),e.jsx(g,{question:"Já possui conta?",linkText:"Acessar conta",linkTo:"/login",buttonText:i?"Criando conta...":"Criar conta",disabled:i})]})})]})});export{V as default,U as meta};
