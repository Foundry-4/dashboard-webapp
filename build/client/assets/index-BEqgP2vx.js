import{w as u,q as x,o as e,L as d}from"./chunk-QMGIS6GS-u2wsVBQ8.js";import{A as f}from"./AuthFooter-CKhZqaSr.js";import{C as g,a as h,b as j}from"./card-B9a7pVUc.js";import{u as w,a as E,E as b,l as y}from"./zod-CESMKTJV.js";import{F as m}from"./FormInput-DWnxTtgF.js";import{u as C}from"./AuthContext-DymqdCtb.js";import"./button-p6101m2e.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-BaT0F7pg.js";import"./index-CcF3o-s6.js";import"./auth-DssmCHyn.js";const J=()=>[{title:"Login - NaMesaJá"}],M=u(function(){const{login:l}=C(),a=x(),{register:t,handleSubmit:c,formState:{errors:r,isSubmitting:o},setError:n}=w({resolver:E(y),defaultValues:{email:"",password:""}}),p=async i=>{try{const s=await l({email:i.email,password:i.password});return s.status?s.data.token?a("/"):a("/verify-2fa"):n("root",{type:"manual",message:s.message})}catch(s){n("root",{type:"manual",message:s instanceof Error?s.message:"Erro ao fazer login."})}};return e.jsxs(e.Fragment,{children:[e.jsx(g,{children:e.jsx(h,{className:"text-center text-4xl",children:"Acesse sua conta"})}),e.jsx(j,{className:"flex flex-col gap-6",children:e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:c(p),children:[e.jsx(m,{label:"Email",type:"email",error:r.email?.message,...t("email")}),e.jsx(m,{label:"Senha",type:"password",error:r.password?.message,...t("password")}),e.jsx(b,{error:r.root?.message}),e.jsx(d,{to:"/forgot-password",className:"ml-auto text-sm !text-orange-600",children:"Esqueci minha senha"}),e.jsx(f,{question:"Não possui conta?",linkText:"Criar conta",linkTo:"/register",buttonText:o?"Entrando...":"Entrar",disabled:o})]})})]})});export{M as default,J as meta};
